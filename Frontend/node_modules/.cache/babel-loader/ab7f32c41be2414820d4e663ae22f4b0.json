{"ast":null,"code":"var _jsxFileName = \"D:\\\\edited project\\\\Frontend\\\\src\\\\Pages\\\\DeliveryPerson\\\\DpHome\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { toast } from \"react-toastify\";\nimport DpOrder from \"../../../Components/DpOrder\";\nimport { URL } from '../../../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DeliveryPersonHome = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [pickUpOrders, setPickUpOrders] = useState([]);\n  const [deliverOrders, setDeliverOrders] = useState([]);\n  const deliveryPersonId = sessionStorage[\"id\"];\n  const ofdStatus = \"out for delivery\";\n  const pickedUpStatus = \"picked up\";\n  const deliveredStatus = \"delivered\";\n\n  const markPickupComplete = orderId => {\n    // console.log(\"Mark pickup complete for \" + orderId)\n    const url = `${URL}/deliveryperson/${orderId}/${pickedUpStatus}`;\n    axios.post(url).then(response => {\n      const result = response.data;\n\n      if (result.status === \"SUCCESS\") {\n        toast.success(\"Delivery status changed\");\n      } else {\n        toast.error(result.message);\n      }\n    });\n    setTimeout(loadPickUpOrders, 100);\n    setTimeout(loadDeliveryOrders, 100); // navigate(\"/dp/home\");\n  };\n\n  const markDeliveryComplete = orderId => {\n    // console.log(\"Mark delivery complete for \" + orderId)\n    const url = `${URL}/deliveryperson/${orderId}/${deliveredStatus}`;\n    axios.post(url).then(response => {\n      const result = response.data;\n\n      if (result.status === \"SUCCESS\") {\n        toast.success(\"Delivery status changed\");\n      } else {\n        toast.error(result.message);\n      }\n    });\n    setTimeout(loadPickUpOrders, 100);\n    setTimeout(loadDeliveryOrders, 100); // navigate(\"/dp/home\");\n  };\n\n  const loadPickUpOrders = () => {\n    const url = `${URL}/deliveryperson/${deliveryPersonId}/status/${ofdStatus}`;\n    axios.get(url).then(response => {\n      const result = response.data;\n\n      if (result.status === \"SUCCESS\") {\n        setPickUpOrders(result.data);\n      }\n    });\n  };\n\n  const loadDeliveryOrders = () => {\n    const url = `${URL}/deliveryperson/${deliveryPersonId}/status/${pickedUpStatus}`;\n    axios.get(url).then(response => {\n      const result = response.data;\n\n      if (result.status === \"SUCCESS\") {\n        setDeliverOrders(result.data);\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadPickUpOrders();\n    loadDeliveryOrders();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Orders ready for pickup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), pickUpOrders.map(order => /*#__PURE__*/_jsxDEV(DpOrder, {\n      orderId: order.orderId,\n      restaurantName: order.restaurantName,\n      restaurantAddress: order.restaurantAddress,\n      restaurantPinCode: order.restaurantPinCode,\n      customerName: order.customerName,\n      customerAddress: order.customerAddress,\n      customerPinCode: order.customerPinCode,\n      markPickupComplete: markPickupComplete\n    }, order.orderId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 43\n    }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"mt-3\",\n      children: \"Orders ready for delivery\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), deliverOrders.map(order => /*#__PURE__*/_jsxDEV(DpOrder, {\n      orderId: order.orderId,\n      restaurantName: order.restaurantName,\n      restaurantAddress: order.restaurantAddress,\n      restaurantPinCode: order.restaurantPinCode,\n      customerName: order.customerName,\n      customerAddress: order.customerAddress,\n      customerPinCode: order.customerPinCode,\n      markDeliveryComplete: markDeliveryComplete\n    }, order.orderId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 44\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s(DeliveryPersonHome, \"DHlFs7mJFnNZN5VhhiJPqPuJ8NM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = DeliveryPersonHome;\nexport default DeliveryPersonHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeliveryPersonHome\");","map":{"version":3,"sources":["D:/edited project/Frontend/src/Pages/DeliveryPerson/DpHome/index.js"],"names":["axios","useEffect","useState","useNavigate","toast","DpOrder","URL","DeliveryPersonHome","navigate","pickUpOrders","setPickUpOrders","deliverOrders","setDeliverOrders","deliveryPersonId","sessionStorage","ofdStatus","pickedUpStatus","deliveredStatus","markPickupComplete","orderId","url","post","then","response","result","data","status","success","error","message","setTimeout","loadPickUpOrders","loadDeliveryOrders","markDeliveryComplete","get","map","order","restaurantName","restaurantAddress","restaurantPinCode","customerName","customerAddress","customerPinCode"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\"\r\nimport { useNavigate } from \"react-router\";\r\nimport { toast } from \"react-toastify\";\r\nimport DpOrder from \"../../../Components/DpOrder\"\r\nimport { URL } from '../../../config'\r\n\r\nconst DeliveryPersonHome = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [pickUpOrders, setPickUpOrders] = useState([]);\r\n    const [deliverOrders, setDeliverOrders] = useState([]);\r\n\r\n    const deliveryPersonId = sessionStorage[\"id\"];\r\n\r\n    const ofdStatus = \"out for delivery\";\r\n    const pickedUpStatus = \"picked up\";\r\n    const deliveredStatus = \"delivered\"\r\n\r\n    const markPickupComplete = (orderId) => {\r\n        // console.log(\"Mark pickup complete for \" + orderId)\r\n        const url = `${URL}/deliveryperson/${orderId}/${pickedUpStatus}`\r\n        axios.post(url).then(response => {\r\n            const result = response.data;\r\n            if(result.status === \"SUCCESS\") {\r\n                toast.success(\"Delivery status changed\")\r\n            } else {\r\n                toast.error(result.message)\r\n            }\r\n        })\r\n        setTimeout(loadPickUpOrders, 100);\r\n        setTimeout(loadDeliveryOrders, 100);\r\n        // navigate(\"/dp/home\");\r\n    }\r\n\r\n    const markDeliveryComplete = (orderId) => {\r\n        // console.log(\"Mark delivery complete for \" + orderId)\r\n        const url = `${URL}/deliveryperson/${orderId}/${deliveredStatus}`\r\n        axios.post(url).then(response => {\r\n            const result = response.data;\r\n            if(result.status === \"SUCCESS\") {\r\n                toast.success(\"Delivery status changed\")\r\n            } else {\r\n                toast.error(result.message)\r\n            }\r\n        })\r\n        setTimeout(loadPickUpOrders, 100);\r\n        setTimeout(loadDeliveryOrders, 100);\r\n        // navigate(\"/dp/home\");\r\n    }\r\n\r\n    const loadPickUpOrders = () => {\r\n        const url = `${URL}/deliveryperson/${deliveryPersonId}/status/${ofdStatus}`\r\n        axios.get(url).then(response => {\r\n            const result = response.data;\r\n            if(result.status === \"SUCCESS\") {\r\n                setPickUpOrders(result.data);\r\n            }\r\n        })\r\n    }\r\n\r\n    const loadDeliveryOrders = () => {\r\n        const url = `${URL}/deliveryperson/${deliveryPersonId}/status/${pickedUpStatus}`\r\n        axios.get(url).then(response => {\r\n            const result = response.data;\r\n            if(result.status === \"SUCCESS\") {\r\n                setDeliverOrders(result.data);\r\n            } \r\n        })\r\n    }\r\n\r\n    useEffect ( () => {\r\n        loadPickUpOrders();\r\n        loadDeliveryOrders();\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <h3>Orders ready for pickup</h3>\r\n\r\n            {\r\n                pickUpOrders.map(order => <DpOrder \r\n                    key={order.orderId}\r\n                    orderId={order.orderId}\r\n                    restaurantName={order.restaurantName}\r\n                    restaurantAddress={order.restaurantAddress}\r\n                    restaurantPinCode={order.restaurantPinCode}\r\n                    customerName={order.customerName}\r\n                    customerAddress={order.customerAddress}\r\n                    customerPinCode={order.customerPinCode}\r\n                    markPickupComplete={markPickupComplete}\r\n                />)\r\n            }\r\n\r\n\r\n            <h3 className=\"mt-3\">Orders ready for delivery</h3>\r\n\r\n            {\r\n                deliverOrders.map(order => <DpOrder \r\n                    key={order.orderId}\r\n                    orderId={order.orderId}\r\n                    restaurantName={order.restaurantName}\r\n                    restaurantAddress={order.restaurantAddress}\r\n                    restaurantPinCode={order.restaurantPinCode}\r\n                    customerName={order.customerName}\r\n                    customerAddress={order.customerAddress}\r\n                    customerPinCode={order.customerPinCode}\r\n                    markDeliveryComplete={markDeliveryComplete}\r\n                />)\r\n            }\r\n        </div>\r\n        \r\n    ) \r\n}\r\n\r\nexport default DeliveryPersonHome"]},"metadata":{},"sourceType":"module"}